# Global Architecture Analysis

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-16
**–ü—Ä–æ–µ–∫—Ç:** Theatre Management System MVP v0.1.0
**–ë–∞–∑–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- `.claude/memory-bank/02_ARCHITECTURE.md`
- `.claude/memory-bank/03_DATABASE.md`
- `.claude/memory-bank/07_ROADMAP_DEPLOYMENT.md`

---

## Executive Summary

–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç **—Ö–æ—Ä–æ—à—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É** —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ—ë–≤ (Router ‚Üí Service ‚Üí Repository ‚Üí Model), –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **—Ä–∞–Ω–Ω–µ–≥–æ MVP —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏**.

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–ª–µ–≤–æ–π –Ω–∞ 70%
- ‚ùå **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 13 –∏–∑ 25+ —Ç–∞–±–ª–∏—Ü (52%)
- ‚ö†Ô∏è **–ú–æ–¥—É–ª–∏:** –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –µ—Å—Ç—å, –Ω–æ –±–µ–∑ 60% –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–∏—á
- üî¥ **2 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –±–∞–≥–∞** –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ UPDATE –æ–ø–µ—Ä–∞—Ü–∏–∏

**–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ MVP:** 45%
**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤:** 60%

---

## 1. GAP-–∞–Ω–∞–ª–∏–∑: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend Structure

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | GAP | –°—Ç–∞—Ç—É—Å |
|-----------|-----------------|-------------------|-----|--------|
| **Routers** | `/api/v1/routers/` | `/api/v1/` | ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è | OK |
| **Services** | `/services/` (8 —Å–µ—Ä–≤–∏—Å–æ–≤) | `/services/` (7 —Å–µ—Ä–≤–∏—Å–æ–≤) | ‚ö†Ô∏è –ù–µ—Ç file_service.py | 87% |
| **Repositories** | `/repositories/` (8 repos) | `/repositories/` (6 repos) | ‚ö†Ô∏è –ù–µ—Ç notification, task repos | 75% |
| **Models** | `/models/` (–≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏) | `/models/` (7 —Ñ–∞–π–ª–æ–≤) | ‚ö†Ô∏è –ù–µ—Ç task, notification –º–æ–¥–µ–ª–µ–π | 70% |
| **Core** | `/core/` (security, permissions, exceptions) | `/core/` (–µ—Å—Ç—å –≤—Å–µ) | ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ | 100% |
| **Schemas** | `/schemas/` (Pydantic) | `/schemas/` (–µ—Å—Ç—å) | ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è | 100% |
| **Database** | `/database/` (session, base) | `/database/` (–µ—Å—Ç—å) | ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ | 100% |

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã:**
```
‚úÖ /api/v1/auth.py
‚úÖ /api/v1/inventory.py
‚úÖ /api/v1/performances.py
‚úÖ /api/v1/schedule.py
‚úÖ /api/v1/documents.py
‚ùå /api/v1/tasks.py (–Ω–µ—Ç)
‚ùå /api/v1/notifications.py (–Ω–µ—Ç)
‚ùå /api/v1/files.py (–Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞)
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
```
‚úÖ auth_service.py
‚úÖ inventory_service.py
‚úÖ performance_service.py
‚úÖ schedule_service.py
‚úÖ document_service.py
‚úÖ redis_service.py
‚ùå task_service.py (–Ω–µ—Ç)
‚ùå notification_service.py (–Ω–µ—Ç)
‚ùå file_service.py (–Ω–µ—Ç - –ª–æ–≥–∏–∫–∞ –≤ inventory_service)
```

### Frontend Structure

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | GAP | –°—Ç–∞—Ç—É—Å |
|-----------|-----------------|-------------------|-----|--------|
| **Pages** | `/pages/` (7 –º–æ–¥—É–ª–µ–π) | `/pages/` (12 –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π) | ‚úÖ –ë–æ–ª—å—à–µ —á–µ–º –Ω—É–∂–Ω–æ | 120% |
| **Components/UI** | `/components/ui/` | `/components/ui/` (13 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤) | ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ | 100% |
| **Components/Layout** | `/components/layout/` | `/components/layout/` | ‚úÖ Header, Sidebar, MainLayout | 100% |
| **Components/Features** | `/components/features/` | `/components/features/` (2 –º–æ–¥—É–ª—è) | ‚ö†Ô∏è –ù–µ—Ç inventory, tasks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | 40% |
| **Services** | `/services/` (8 —Å–µ—Ä–≤–∏—Å–æ–≤) | `/services/` (6 —Å–µ—Ä–≤–∏—Å–æ–≤) | ‚ö†Ô∏è –ù–µ—Ç task_service, notification_service | 75% |
| **Store** | `/store/` (Zustand) | `/store/` (authStore, uiStore) | ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 100% |
| **Types** | `/types/` (–≤—Å–µ –º–æ–¥—É–ª–∏) | `/types/` (–µ—Å—Ç—å) | ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è | 100% |
| **Hooks** | `/hooks/` (–∫–∞—Å—Ç–æ–º–Ω—ã–µ) | `/hooks/` (useAuth) | ‚ö†Ô∏è –ù–µ—Ç useInventory, useNotifications | 30% |

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
```
‚úÖ /pages/auth/ (LoginPage)
‚úÖ /pages/dashboard/ (DashboardPage)
‚úÖ /pages/inventory/ (InventoryListPage, InventoryItemPage, InventoryFormPage)
‚úÖ /pages/performances/ (PerformancesListPage, PerformanceViewPage, PerformanceFormPage)
‚úÖ /pages/schedule/ (SchedulePage)
‚úÖ /pages/documents/ (DocumentsListPage)
‚úÖ /pages/admin/ (UsersListPage, UserDetailPage, CategoriesPage, AuditLogPage)
‚úÖ /pages/profile/ (ProfilePage)
‚úÖ /pages/settings/ (SettingsPage)
‚úÖ /pages/reports/ (ReportsPage)
‚úÖ /pages/help/ (HelpPage)
‚ö†Ô∏è /pages/performances/PassportPage.tsx (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚ùå /pages/tasks/ (–Ω–µ—Ç)
```

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è

#### Backend

1. **BaseRepository.update() —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ (–ë–õ–û–ö–ò–†–£–Æ–©–ò–ô –ë–ê–ì)**
   - **–û–ø–∏—Å–∞–Ω–æ:** `async def update(self, instance: ModelType, data: dict)`
   - **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è:** `await repo.update(id: int, data: dict)`
   - **–≠—Ñ—Ñ–µ–∫—Ç:** TypeError –ø—Ä–∏ –ª—é–±–æ–º UPDATE –∑–∞–ø—Ä–æ—Å–µ
   - **–§–∞–π–ª—ã:** `repositories/base.py:105-126`
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 - –°–†–û–ß–ù–û

2. **unique().scalars() –ø–æ—Ä—è–¥–æ–∫ –≤ repository**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** `result.scalars().unique()` –≤–º–µ—Å—Ç–æ `result.unique().scalars()`
   - **–≠—Ñ—Ñ–µ–∫—Ç:** –ü—Ä–æ–±–ª–µ–º—ã —Å joinedload relationships
   - **–§–∞–π–ª—ã:** `repositories/inventory_repository.py:215`
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 - –°–†–û–ß–ù–û

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª–µ–π Tasks –∏ Notifications**
   - **–û–ø–∏—Å–∞–Ω–æ:** –ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –∑–∞–¥–∞—á —Å –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏
   - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** –ù–µ—Ç –Ω–∏ –º–æ–¥–µ–ª–µ–π, –Ω–∏ —Ä–æ—É—Ç–µ—Ä–æ–≤
   - **–≠—Ñ—Ñ–µ–∫—Ç:** –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —á–µ–∫–ª–∏—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1 - MVP-critical

4. **File Service —Ä–∞–∑–±—Ä–æ—Å–∞–Ω –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º**
   - **–û–ø–∏—Å–∞–Ω–æ:** –û—Ç–¥–µ–ª—å–Ω—ã–π `file_service.py` –¥–ª—è MinIO
   - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** –õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ `inventory_service.py`
   - **–≠—Ñ—Ñ–µ–∫—Ç:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –Ω–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2 - Refactoring

#### Frontend

1. **Race condition –≤ InventoryItemPage**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç cleanup –≤ useEffect
   - **–≠—Ñ—Ñ–µ–∫—Ç:** Potential memory leak
   - **–§–∞–π–ª—ã:** `pages/inventory/InventoryItemPage.tsx:51-69`
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 - –°–†–û–ß–ù–û

2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ID –≤ URL**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `isNaN(parseInt(id))`
   - **–≠—Ñ—Ñ–µ–∫—Ç:** Crash –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º ID
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 - –°–†–û–ß–ù–û

3. **–†—É—á–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã API ‚Üí Frontend**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `as` –±–µ–∑ Zod –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - **–≠—Ñ—Ñ–µ–∫—Ç:** Loss of type safety –Ω–∞ runtime
   - **–§–∞–π–ª—ã:** `services/inventory_service.ts:33-56`
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1 - Important

---

## 2. GAP-–∞–Ω–∞–ª–∏–∑: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

| –¢–∞–±–ª–∏—Ü–∞ | –í 03_DATABASE.md | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö | –ü–æ–ª–Ω–æ—Ç–∞ –ø–æ–ª–µ–π | –°—Ç–∞—Ç—É—Å |
|---------|------------------|-------------------------|---------------|--------|
| **Core Tables** |
| `users` | ‚úÖ | ‚úÖ (001_initial) | 90% | ‚úÖ |
| `roles` | ‚úÖ (–∫–∞–∫ user_roles) | ‚úÖ (001_initial) | 100% | ‚úÖ |
| `theaters` | ‚ùå (–Ω–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏) | ‚úÖ (001_initial) | N/A | ‚ö†Ô∏è Extra |
| `departments` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| **Inventory Module** |
| `inventory_categories` | ‚úÖ | ‚úÖ (002_inventory) | 85% | ‚ö†Ô∏è |
| `inventory_locations` | ‚úÖ | ‚úÖ –∫–∞–∫ `storage_locations` | 80% | ‚ö†Ô∏è |
| `inventory_items` | ‚úÖ | ‚úÖ (002_inventory) | 75% | ‚ö†Ô∏è |
| `inventory_photos` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `inventory_history` | ‚úÖ | ‚úÖ –∫–∞–∫ `inventory_movements` | 70% | ‚ö†Ô∏è |
| **Performances Module** |
| `performances` | ‚úÖ | ‚úÖ (002_inventory) | 60% | ‚ö†Ô∏è |
| `passport_sections` | ‚úÖ | ‚úÖ –∫–∞–∫ `performance_sections` | 50% | ‚ö†Ô∏è |
| `passport_documents` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `performance_inventory` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `performance_checklists` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `checklist_items` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `performance_condition` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| **Schedule Module** |
| `venues` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `schedule_events` | ‚úÖ | ‚úÖ (004_schedule) | 80% | ‚ö†Ô∏è |
| `event_participants` | ‚úÖ | ‚úÖ (004_schedule) | 90% | ‚úÖ |
| `event_inventory` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| **Documents Module** |
| `documents` | ‚úÖ | ‚úÖ (003_documents) | 85% | ‚ö†Ô∏è |
| `document_versions` | ‚úÖ | ‚úÖ (003_documents) | 90% | ‚úÖ |
| `document_categories` | ‚úÖ | ‚úÖ (003_documents) | 100% | ‚úÖ |
| `tags` | ‚ùå (–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ—Ç) | ‚úÖ (003_documents) | N/A | ‚ö†Ô∏è Extra |
| **Tasks Module** |
| `tasks` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `task_subtasks` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `task_comments` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `task_attachments` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| **Notifications** |
| `notifications` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |
| `refresh_tokens` | ‚úÖ | ‚ùå | 0% | ‚ùå Missing |

**–ò—Ç–æ–≥–æ:**
- **–û–ø–∏—Å–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 31 —Ç–∞–±–ª–∏—Ü–∞
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö:** 16 —Ç–∞–±–ª–∏—Ü (52%)
- **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç:** 4 —Ç–∞–±–ª–∏—Ü—ã (13%)
- **–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:** 9 —Ç–∞–±–ª–∏—Ü (29%)
- **–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:** 15 —Ç–∞–±–ª–∏—Ü (48%)

### –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

#### P0 - –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP
```
‚ùå departments (–Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ —Ü–µ—Ö–∞–º)
‚ùå venues (schedule_events —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É)
‚ùå inventory_photos (–Ω–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ)
‚ùå performance_inventory (–Ω–µ—Ç —Å–≤—è–∑–∏ —Å–ø–µ–∫—Ç–∞–∫–ª–µ–π —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º)
```

#### P1 - –í–∞–∂–Ω–æ –¥–ª—è MVP
```
‚ùå passport_documents (–Ω–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞—Å–ø–æ—Ä—Ç–æ–≤)
‚ùå performance_checklists (–Ω–µ—Ç —á–µ–∫–ª–∏—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
‚ùå checklist_items (–Ω–µ—Ç –ø—É–Ω–∫—Ç–æ–≤ —á–µ–∫–ª–∏—Å—Ç–æ–≤)
‚ùå tasks (–≤–µ—Å—å –º–æ–¥—É–ª—å –∑–∞–¥–∞—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
‚ùå task_subtasks
```

#### P2 - –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è MVP
```
‚ùå event_inventory (–Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –∫ —Å–æ–±—ã—Ç–∏—è–º)
‚ùå performance_condition (–Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ø–µ–∫—Ç–∞–∫–ª–µ–π)
‚ùå task_comments (–Ω–µ—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∑–∞–¥–∞—á)
‚ùå task_attachments (–Ω–µ—Ç —Ñ–∞–π–ª–æ–≤ –≤ –∑–∞–¥–∞—á–∞—Ö)
‚ùå notifications (–Ω–µ—Ç —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
‚ùå refresh_tokens (refresh tokens —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Redis, –Ω–æ –Ω–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏)
```

### –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è (–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö)

#### `inventory_items` (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):
```sql
-- –ì–∞–±–∞—Ä–∏—Ç—ã (–æ–ø–∏—Å–∞–Ω—ã –≤ 03_DATABASE.md)
width DECIMAL(10, 2),
height DECIMAL(10, 2),
depth DECIMAL(10, 2),
weight DECIMAL(10, 2),

-- –î–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
serial_number VARCHAR(100),
manufacturer VARCHAR(255),
model VARCHAR(255),
purchase_date DATE,
purchase_price DECIMAL(15, 2),
condition VARCHAR(50) DEFAULT 'good',

-- Soft delete
deleted_at TIMESTAMP WITH TIME ZONE
```

#### `performances` (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):
```sql
-- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–ø–µ–∫—Ç–∞–∫–ª—è
author VARCHAR(255),        -- –∞–≤—Ç–æ—Ä –ø—å–µ—Å—ã
artist VARCHAR(255),        -- —Ö—É–¥–æ–∂–Ω–∏–∫-–ø–æ—Å—Ç–∞–Ω–æ–≤—â–∏–∫
composer VARCHAR(255),
video_url VARCHAR(500),
duration INTEGER,           -- –≤ –º–∏–Ω—É—Ç–∞—Ö
intermission_count INTEGER DEFAULT 1,
archived_at TIMESTAMP WITH TIME ZONE
```

#### `storage_locations` (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `inventory_locations`, –¥–æ–±–∞–≤–∏—Ç—å):
```sql
-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
type VARCHAR(50) NOT NULL,  -- 'warehouse', 'stage', 'rehearsal', 'tour'
address TEXT,
city VARCHAR(100),
is_active BOOLEAN DEFAULT TRUE
```

### –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã

```sql
-- –î–ª—è performance optimization
CREATE INDEX idx_inventory_search ON inventory_items
    USING GIN (to_tsvector('russian', name || ' ' || COALESCE(description, '')));

CREATE INDEX idx_documents_search ON documents
    USING GIN (to_tsvector('russian', title || ' ' || COALESCE(description, '')));

CREATE INDEX idx_events_venue_dates ON schedule_events(venue_id, start_time, end_time);

CREATE INDEX idx_inventory_cat_status ON inventory_items(category_id, status);

CREATE INDEX idx_notifications_unread ON notifications(user_id, is_read)
    WHERE is_read = FALSE;
```

---

## 3. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ MVP

### –ü–æ –º–æ–¥—É–ª—è–º

| –ú–æ–¥—É–ª—å | –û–ø–∏—Å–∞–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|--------|-----------------|-------------|------------|-------------|
| **Auth** | 4 endpoint | 4 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 100% | ‚úÖ READY |
| **Inventory** | 10 endpoint | 7 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 70% | ‚ö†Ô∏è PARTIAL |
| **Documents** | 9 endpoint | 5 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 55% | ‚ö†Ô∏è PARTIAL |
| **Performances** | 13 endpoint | 4 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 30% | ‚ùå INCOMPLETE |
| **Schedule** | 10 endpoint | 6 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 60% | ‚ö†Ô∏è PARTIAL |
| **Tasks** | 9 endpoint | 0 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 0% | ‚ùå NOT STARTED |
| **Notifications** | 6 endpoint | 0 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 0% | ‚ùå NOT STARTED |
| **Files** | 4 endpoint | 2 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 50% | ‚ö†Ô∏è PARTIAL |

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—è–º

#### Auth (100% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [x] POST /auth/login - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- [x] POST /auth/refresh - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- [x] POST /auth/logout - –í—ã—Ö–æ–¥
- [x] GET /auth/me - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **READY FOR MVP**

---

#### Inventory (70% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [x] GET /inventory - –°–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [x] GET /inventory/{id} - –î–µ—Ç–∞–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–∞ (–ë–ê–ì: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ repository.update)
- [x] POST /inventory - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞
- [x] PUT /inventory/{id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ë–ê–ì: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] DELETE /inventory/{id} - –£–¥–∞–ª–µ–Ω–∏–µ (soft delete)
- [x] GET /inventory/categories - –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [x] GET /inventory/locations - –°–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [ ] GET /inventory/{id}/history - –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π (–µ—Å—Ç—å –º–æ–¥–µ–ª—å movements, –Ω–µ—Ç endpoint)
- [ ] GET /inventory/{id}/schedule - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] POST /inventory/{id}/photos - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ (–Ω–µ—Ç —Ç–∞–±–ª–∏—Ü—ã inventory_photos)
- [ ] GET /inventory/analytics - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏:**
1. üî¥ `GET /inventory/{id}` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –∏–∑-–∑–∞ `unique().scalars()` –ø–æ—Ä—è–¥–∫–∞
2. üî¥ `PUT /inventory/{id}` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `BaseRepository.update()`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **NEEDS FIXES** (2 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –±–∞–≥–∞)

---

#### Documents (55% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [x] GET /documents - –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [x] GET /documents/{id} - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- [x] POST /documents - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (upload to MinIO)
- [x] PUT /documents/{id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–ë–ê–ì: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] DELETE /documents/{id} - –£–¥–∞–ª–µ–Ω–∏–µ

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [ ] GET /documents/{id}/download - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
- [ ] GET /documents/{id}/preview - –ü—Ä–µ–≤—å—é (–¥–ª—è PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- [ ] GET /documents/{id}/versions - –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π
- [ ] POST /documents/{id}/versions - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
- [ ] GET /documents/{id}/versions/{version_id}/download
- [ ] GET /documents/categories - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞, –Ω–µ—Ç endpoint)

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏:**
1. üî¥ `PUT /documents/{id}` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `BaseRepository.update()`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **PARTIAL** (–Ω–µ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)

---

#### Performances (30% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [x] GET /performances - –°–ø–∏—Å–æ–∫ —Å–ø–µ–∫—Ç–∞–∫–ª–µ–π
- [x] GET /performances/{id} - –î–µ—Ç–∞–ª–∏ —Å–ø–µ–∫—Ç–∞–∫–ª—è (–ë–ê–ì: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] POST /performances - –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ–∫—Ç–∞–∫–ª—è
- [x] PUT /performances/{id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ë–ê–ì: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–±–ª–æ–∫–∏—Ä—É–µ—Ç MVP):**
- [ ] DELETE /performances/{id} - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] GET /performances/{id}/passport - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞ (–Ω–µ—Ç —Ç–∞–±–ª–∏—Ü—ã passport_documents)
- [ ] GET /performances/{id}/passport/sections - –†–∞–∑–¥–µ–ª—ã –ø–∞—Å–ø–æ—Ä—Ç–∞
- [ ] POST /performances/{id}/passport/sections - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
- [ ] PUT /performances/{id}/passport/sections/{section_id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
- [ ] GET /performances/{id}/inventory - –ü—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (–Ω–µ—Ç —Ç–∞–±–ª–∏—Ü—ã performance_inventory)
- [ ] POST /performances/{id}/inventory - –ü—Ä–∏–≤—è–∑–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- [ ] DELETE /performances/{id}/inventory/{item_id} - –û—Ç–≤—è–∑–∫–∞
- [ ] GET /performances/{id}/checklists - –ß–µ–∫–ª–∏—Å—Ç—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–Ω–µ—Ç —Ç–∞–±–ª–∏—Ü—ã performance_checklists)
- [ ] POST /performances/{id}/checklists - –°–æ–∑–¥–∞–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞
- [ ] PUT /performances/{id}/checklists/{checklist_id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏:**
1. üî¥ `GET /performances/{id}` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ repository –ø—Ä–æ–±–ª–µ–º
2. üî¥ `PUT /performances/{id}` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `BaseRepository.update()`

**–°—Ç–∞—Ç—É—Å:** ‚ùå **INCOMPLETE** (–Ω–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç–æ–≤, —á–µ–∫–ª–∏—Å—Ç–æ–≤, —Å–≤—è–∑–∏ —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º)

---

#### Schedule (60% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [x] GET /schedule - –°–æ–±—ã—Ç–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –¥–∞—Ç–∞–º
- [x] GET /schedule/{id} - –î–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è
- [x] POST /schedule - –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- [x] PUT /schedule/{id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ë–ê–ì: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] DELETE /schedule/{id} - –£–¥–∞–ª–µ–Ω–∏–µ
- [x] GET /schedule/{id}/participants - –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [ ] POST /schedule/{id}/participants - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- [ ] DELETE /schedule/{id}/participants/{user_id} - –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- [ ] PUT /schedule/{id}/participants/{user_id}/status - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- [ ] POST /schedule/{id}/confirm - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É—á–∞—Å—Ç–∏–µ
- [ ] POST /schedule/{id}/decline - –û—Ç–∫–ª–æ–Ω–∏—Ç—å —É—á–∞—Å—Ç–∏–µ
- [ ] GET /schedule/conflicts - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- [ ] GET /schedule/availability - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–ª–æ—â–∞–¥–∫–∏
- [ ] GET /schedule/venues - –°–ø–∏—Å–æ–∫ –ø–ª–æ—â–∞–¥–æ–∫ (–Ω–µ—Ç —Ç–∞–±–ª–∏—Ü—ã venues)

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏:**
1. üî¥ `PUT /schedule/{id}` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `BaseRepository.update()`
2. üî¥ –ù–µ—Ç —Ç–∞–±–ª–∏—Ü—ã `venues` (schedule_events.venue_id —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É)

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **PARTIAL** (–Ω–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, –ø–ª–æ—â–∞–¥–æ–∫)

---

#### Tasks (0% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ù–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP):**
- [ ] GET /tasks - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- [ ] GET /tasks/{id} - –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏
- [ ] POST /tasks - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- [ ] PUT /tasks/{id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- [ ] DELETE /tasks/{id} - –£–¥–∞–ª–µ–Ω–∏–µ
- [ ] PUT /tasks/{id}/status - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- [ ] GET /tasks/{id}/subtasks - –ü–æ–¥–∑–∞–¥–∞—á–∏
- [ ] POST /tasks/{id}/subtasks - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏
- [ ] PUT /tasks/{id}/subtasks/{subtask_id} - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏
- [ ] DELETE /tasks/{id}/subtasks/{subtask_id} - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏
- [ ] GET /tasks/{id}/comments - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [ ] POST /tasks/{id}/comments - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚ùå **NOT STARTED** (–Ω–µ—Ç –º–æ–¥–µ–ª–µ–π, –Ω–µ—Ç —Ä–æ—É—Ç–µ—Ä–æ–≤, –Ω–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤)

---

#### Notifications (0% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ù–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–≤–∞–∂–Ω–æ –¥–ª—è UX):**
- [ ] GET /notifications - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] GET /notifications/unread-count - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- [ ] PUT /notifications/{id}/read - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
- [ ] PUT /notifications/read-all - –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ
- [ ] DELETE /notifications/{id} - –£–¥–∞–ª–∏—Ç—å
- [ ] GET /notifications/settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] PUT /notifications/settings - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–°—Ç–∞—Ç—É—Å:** ‚ùå **NOT STARTED** (–Ω–µ—Ç –º–æ–¥–µ–ª–∏, –Ω–µ—Ç —Ä–æ—É—Ç–µ—Ä–æ–≤, –Ω–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤)

---

#### Files (50% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [x] POST /files/upload - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (–≤–Ω—É—Ç—Ä–∏ inventory_service)
- [x] DELETE /files/{id} - –£–¥–∞–ª–µ–Ω–∏–µ (–≤–Ω—É—Ç—Ä–∏ inventory_service)

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- [ ] GET /files/{id} - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
- [ ] GET /files/{id}/thumbnail - –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ `file_service.py` (–ª–æ–≥–∏–∫–∞ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–∞ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º)
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è MinIO buckets

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **NEEDS REFACTORING** (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

---

## 4. –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ö—Ä–∏—Ç–∏—á–Ω—ã–π –¥–ª—è MVP (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–ª–∏–∑)

#### Backend
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å BaseRepository.update()** (1 —á–∞—Å)
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `update_by_id(id: int, data: dict)`
   - –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å unique().scalars() –ø–æ—Ä—è–¥–æ–∫** (30 –º–∏–Ω—É—Ç)
   - `inventory_repository.py:215`
   - `performance_repository.py` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ)

3. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É venues** (2 —á–∞—Å–∞)
   - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è venues
   - –ú–æ–¥–µ–ª—å Venue
   - Endpoint GET /schedule/venues

4. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É departments** (2 —á–∞—Å–∞)
   - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è departments
   - –ú–æ–¥–µ–ª—å Department
   - Seed data —Å 6 —Ü–µ—Ö–∞–º–∏

5. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É inventory_photos** (3 —á–∞—Å–∞)
   - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è inventory_photos
   - –°–≤—è–∑—å —Å inventory_items
   - Endpoint POST /inventory/{id}/photos

6. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É performance_inventory** (2 —á–∞—Å–∞)
   - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è performance_inventory
   - –°–≤—è–∑—å —Å–ø–µ–∫—Ç–∞–∫–ª–µ–π –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
   - Endpoints –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏

#### Frontend
7. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å race condition –≤ InventoryItemPage** (30 –º–∏–Ω—É—Ç)
   - –î–æ–±–∞–≤–∏—Ç—å cleanup –≤ useEffect

8. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é ID** (15 –º–∏–Ω—É—Ç)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ `isNaN(parseInt(id))` –≤–æ –≤—Å–µ—Ö –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

9. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** (1 —á–∞—Å)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getErrorMessage` –≤–µ–∑–¥–µ
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è 401/403/404/500

**–ò—Ç–æ–≥–æ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á:** ~12 —á–∞—Å–æ–≤

---

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π –¥–ª—è MVP (–≤–ª–∏—è–µ—Ç –Ω–∞ UX)

#### Backend
10. **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å Tasks** (8 —á–∞—Å–æ–≤)
    - –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è tasks, task_subtasks, task_comments
    - –ú–æ–¥–µ–ª–∏ Task, TaskSubtask, TaskComment
    - Repository, Service, Router
    - CRUD endpoints

11. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É performance_checklists** (4 —á–∞—Å–∞)
    - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è performance_checklists, checklist_items
    - –°–≤—è–∑—å —Å performances
    - Endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–µ–∫–ª–∏—Å—Ç–∞–º–∏

12. **–î–æ–¥–µ–ª–∞—Ç—å Documents —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ** (2 —á–∞—Å–∞)
    - GET /documents/{id}/download (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑ MinIO)
    - GET /documents/{id}/preview (–ø—Ä–µ–≤—å—é –¥–ª—è PDF)

13. **–î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** (3 —á–∞—Å–∞)
    - Endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å document_versions
    - –õ–æ–≥–∏–∫–∞ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ –≤–µ—Ä—Å–∏–π

#### Frontend
14. **–î–æ–±–∞–≤–∏—Ç—å React Query** (4 —á–∞—Å–∞)
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ React Query
    - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö API –≤—ã–∑–æ–≤–æ–≤
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫—ç—à –∏ retry

15. **–°–æ–∑–¥–∞—Ç—å PassportPage** (6 —á–∞—Å–æ–≤)
    - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞ —Å–ø–µ–∫—Ç–∞–∫–ª—è
    - Accordion —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏
    - –ü—Ä–∏–≤—è–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∫ —Ä–∞–∑–¥–µ–ª–∞–º

16. **–î–æ–¥–µ–ª–∞—Ç—å —á–µ–∫–ª–∏—Å—Ç—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏** (4 —á–∞—Å–∞)
    - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç TaskChecklist
    - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å performance_checklists

**–ò—Ç–æ–≥–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á:** ~31 —á–∞—Å

---

### –ü–æ—Å–ª–µ MVP (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥)

17. **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å Notifications** (6 —á–∞—Å–æ–≤)
18. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å text-white ‚Üí text-text-primary** (1 —á–∞—Å)
19. **–î–æ–±–∞–≤–∏—Ç—å Zod validation –¥–ª—è API** (6 —á–∞—Å–æ–≤)
20. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ file_service** (4 —á–∞—Å–∞)
21. **–î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã (repositories)** (8 —á–∞—Å–æ–≤)
22. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline** (4 —á–∞—Å–∞)

**–ò—Ç–æ–≥–æ –ø–æ—Å–ª–µ MVP:** ~29 —á–∞—Å–æ–≤

---

## 5. –ü–ª–∞–Ω –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏

### Phase 1: Critical Fixes (2 –¥–Ω—è)
**–¶–µ–ª—å:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –±–∞–≥–∏, —Å–¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–∞–±–æ—á–µ–π
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã:** 12 —á–∞—Å–æ–≤

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª—ã | –û—Ü–µ–Ω–∫–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|-------|--------|-----------|
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å BaseRepository.update() | `repositories/base.py`, –≤—Å–µ services | 2h | P0 |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å unique().scalars() | `repositories/*_repository.py` | 1h | P0 |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å race condition (frontend) | `pages/*/DetailPage.tsx` | 1h | P0 |
| –î–æ–±–∞–≤–∏—Ç—å ID validation (frontend) | `pages/*/DetailPage.tsx` | 0.5h | P0 |
| –£–ª—É—á—à–∏—Ç—å error handling (frontend) | `services/*.ts` | 1.5h | P0 |
| –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è venues | `alembic/versions/` | 1h | P0 |
| –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Venue | `models/schedule.py` | 0.5h | P0 |
| –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è departments | `alembic/versions/` | 1h | P0 |
| –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Department | `models/user.py` | 0.5h | P0 |
| Seed data –¥–ª—è departments | `scripts/seed_data.py` | 0.5h | P0 |
| –°–æ–∑–¥–∞—Ç—å endpoint GET /schedule/venues | `api/v1/schedule.py` | 1h | P0 |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | Manual testing | 2h | P0 |

**Deliverables:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ UPDATE –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–µ—Ç race conditions
- ‚úÖ Venues –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è schedule
- ‚úÖ Departments —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è future use

---

### Phase 2: Database Alignment (3 –¥–Ω—è)
**–¶–µ–ª—å:** –ü—Ä–∏–≤–µ—Å—Ç–∏ –ë–î –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ MVP
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã:** 18 —á–∞—Å–æ–≤

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª—ã | –û—Ü–µ–Ω–∫–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|-------|--------|-----------|
| –ú–∏–≥—Ä–∞—Ü–∏—è: inventory_photos | `alembic/versions/` | 1h | P1 |
| –ú–æ–¥–µ–ª—å InventoryPhoto | `models/inventory.py` | 1h | P1 |
| Endpoint: POST /inventory/{id}/photos | `api/v1/inventory.py` | 2h | P1 |
| –ú–∏–≥—Ä–∞—Ü–∏—è: performance_inventory | `alembic/versions/` | 1h | P1 |
| –ú–æ–¥–µ–ª—å PerformanceInventory | `models/performance.py` | 1h | P1 |
| Endpoints: –ø—Ä–∏–≤—è–∑–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –∫ —Å–ø–µ–∫—Ç–∞–∫–ª—è–º | `api/v1/performances.py` | 2h | P1 |
| –ú–∏–≥—Ä–∞—Ü–∏—è: performance_checklists + items | `alembic/versions/` | 2h | P1 |
| –ú–æ–¥–µ–ª–∏ Checklist + ChecklistItem | `models/performance.py` | 2h | P1 |
| Endpoints: —á–µ–∫–ª–∏—Å—Ç—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ | `api/v1/performances.py` | 3h | P1 |
| –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –≤ inventory_items | `alembic/versions/` (–º–∏–≥—Ä–∞—Ü–∏—è) | 1h | P1 |
| –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –≤ performances | `alembic/versions/` (–º–∏–≥—Ä–∞—Ü–∏—è) | 1h | P1 |
| –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ | `alembic/versions/` (–º–∏–≥—Ä–∞—Ü–∏—è) | 1h | P1 |

**Deliverables:**
- ‚úÖ –§–æ—Ç–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°–ø–µ–∫—Ç–∞–∫–ª–∏ —Å–≤—è–∑–∞–Ω—ã —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### Phase 3: Module Completion (1 –Ω–µ–¥–µ–ª—è)
**–¶–µ–ª—å:** –î–æ–≤–µ—Å—Ç–∏ –º–æ–¥—É–ª–∏ –¥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ MVP
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã:** 31 —á–∞—Å

| –ú–æ–¥—É–ª—å | –ó–∞–¥–∞—á–∏ | –û—Ü–µ–Ω–∫–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|--------|--------|-----------|
| **Tasks** | –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏, –º–∏–≥—Ä–∞—Ü–∏–∏, repo, service, router | 8h | P1 |
| **Documents** | –î–æ–±–∞–≤–∏—Ç—å download/preview endpoints | 2h | P1 |
| **Documents** | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | 3h | P1 |
| **Performances** | –°–æ–∑–¥–∞—Ç—å –ø–∞—Å–ø–æ—Ä—Ç —Å–ø–µ–∫—Ç–∞–∫–ª—è (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞) | 4h | P1 |
| **Schedule** | –î–æ–±–∞–≤–∏—Ç—å confirm/decline —É—á–∞—Å—Ç–∏—è | 2h | P1 |
| **Schedule** | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ | 3h | P1 |
| **Inventory** | –î–æ–±–∞–≤–∏—Ç—å history endpoint | 2h | P2 |
| **Inventory** | –î–æ–±–∞–≤–∏—Ç—å schedule –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | 2h | P2 |
| **Frontend** | PassportPage (–ø–∞—Å–ø–æ—Ä—Ç —Å–ø–µ–∫—Ç–∞–∫–ª—è) | 6h | P1 |
| **Frontend** | TaskChecklist –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | 4h | P1 |
| **Frontend** | React Query –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 4h | P2 |

**Deliverables:**
- ‚úÖ –ó–∞–¥–∞—á–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ü–∞—Å–ø–æ—Ä—Ç —Å–ø–µ–∫—Ç–∞–∫–ª—è –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ Schedule –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è

---

### Phase 4: Frontend Polish (3 –¥–Ω—è)
**–¶–µ–ª—å:** UI/UX –¥–æ—Ä–∞–±–æ—Ç–∫–∏, —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã:** 18 —á–∞—Å–æ–≤

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª—ã | –û—Ü–µ–Ω–∫–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|-------|--------|-----------|
| –î–æ–±–∞–≤–∏—Ç—å Zod validation | `services/*.ts` | 6h | P2 |
| –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å text-white ‚Üí text-text-primary | –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | 1h | P2 |
| –î–æ–±–∞–≤–∏—Ç—å Skeleton –∑–∞–≥—Ä—É–∑–∫–∏ | `components/ui/` | 2h | P2 |
| –£–ª—É—á—à–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ | `tailwind.config.js` | 2h | P2 |
| –î–æ–±–∞–≤–∏—Ç—å Hero-–±–ª–æ–∫–∏ | `pages/*/ListPage.tsx` | 3h | P2 |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å accessibility (a11y) | –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã | 2h | P2 |
| Performance optimization | Bundle analysis | 2h | P2 |

**Deliverables:**
- ‚úÖ Type safety –Ω–∞ runtime
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ Accessibility compliant

---

### Phase 5: Testing & Deployment (2 –¥–Ω—è)
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã:** 12 —á–∞—Å–æ–≤

| –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ |
|--------|--------|
| –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è repositories | 4h |
| –ù–∞–ø–∏—Å–∞—Ç—å integration-—Ç–µ—Å—Ç—ã –¥–ª—è API | 3h |
| E2E —Ç–µ—Å—Ç—ã (Playwright) | 2h |
| –û–±–Ω–æ–≤–∏—Ç—å seed data | 1h |
| –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å production .env | 0.5h |
| –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline | 1h |
| –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 0.5h |

**Deliverables:**
- ‚úÖ Test coverage > 60%
- ‚úÖ CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Production-ready

---

## 6. –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ MVP** | 45% |
| **–ü–æ—Å–ª–µ Phase 1 (Critical Fixes)** | 60% |
| **–ü–æ—Å–ª–µ Phase 2 (Database)** | 75% |
| **–ü–æ—Å–ª–µ Phase 3 (Module Completion)** | 90% |
| **–ü–æ—Å–ª–µ Phase 4 (Polish)** | 95% |
| **–ü–æ—Å–ª–µ Phase 5 (Testing)** | 100% MVP |
| | |
| **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤** | 2 (BaseRepository, unique/scalars) |
| **–ù–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü** | 15 –∏–∑ 31 (48%) |
| **–ù–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π** | ~70 endpoints (~40% –æ—Ç roadmap) |
| | |
| **–û–±—â–∏–µ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –¥–æ MVP** | 91 —á–∞—Å (~11 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π) |
| **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Phase 1)** | 12 —á–∞—Å–æ–≤ (1.5 –¥–Ω—è) |
| **–î–æ –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (Phase 1-3)** | 61 —á–∞—Å (7.5 –¥–Ω–µ–π) |

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ —Ñ–∞–∑–∞–º

```
Phase 1: Critical Fixes      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 12h (13%)
Phase 2: Database Alignment  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 18h (20%)
Phase 3: Module Completion   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë 31h (34%)
Phase 4: Frontend Polish     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 18h (20%)
Phase 5: Testing & Deployment ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 12h (13%)
                             ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
                             Total: 91 hours (100%)
```

---

## 7. –†–∏—Å–∫–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

1. **–í–´–°–û–ö–ò–ô: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏**
   - –ü–∞—Å–ø–æ—Ä—Ç —Å–ø–µ–∫—Ç–∞–∫–ª—è ‚Üí Documents ‚Üí MinIO
   - –ß–µ–∫–ª–∏—Å—Ç—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚Üí Tasks ‚Üí Notifications
   - **Mitigation:** –î–µ–ª–∞—Ç—å –º–æ–¥—É–ª–∏ independent, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å optional relationships

2. **–°–†–ï–î–ù–ò–ô: Performance –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä—ë–º–µ –¥–∞–Ω–Ω—ã—Ö**
   - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤
   - N+1 –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ joinedload
   - **Mitigation:** –î–æ–±–∞–≤–∏—Ç—å GIN –∏–Ω–¥–µ–∫—Å—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å selectinload –¥–ª—è collections

3. **–°–†–ï–î–ù–ò–ô: MinIO integration**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (>50MB)
   - –ù–µ—Ç retry –ª–æ–≥–∏–∫–∏ –ø—Ä–∏ —Å–±–æ—è—Ö
   - **Mitigation:** –î–æ–±–∞–≤–∏—Ç—å chunked upload, retry —Å exponential backoff

4. **–ù–ò–ó–ö–ò–ô: Multi-tenancy security**
   - Theater_id –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ repositories
   - –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á—É–∂–æ–≥–æ —Ç–µ–∞—Ç—Ä–∞
   - **Mitigation:** –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ theater_id

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏

5. **–í–´–°–û–ö–ò–ô: Scope creep**
   - –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–æ–≤—ã—Ö —Ñ–∏—á
   - **Mitigation:** –ñ—ë—Å—Ç–∫–∏–π MVP scope, –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –≤ backlog

6. **–°–†–ï–î–ù–ò–ô: Seed data –∫–∞—á–µ—Å—Ç–≤–æ**
   - –¢–µ–∫—É—â–∏–µ seed data –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç edge cases
   - **Mitigation:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ë–µ—Å–ø—Ä–∏–¥–∞–Ω–Ω–∏—Ü–∞, –ñ–µ–Ω–∏—Ç—å–±–∞)

7. **–ù–ò–ó–ö–ò–ô: Deployment complexity**
   - Docker Compose –¥–ª—è production –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
   - **Mitigation:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

---

## 8. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–µ–≥–æ–¥–Ω—è)

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å BaseRepository.update()** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å unique().scalars()** ‚Äî –ª–æ–º–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å race condition cleanup** ‚Äî memory leaks

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—ç—Ç–∞ –Ω–µ–¥–µ–ª—è)

4. ‚úÖ **–°–æ–∑–¥–∞—Ç—å venues –∏ departments —Ç–∞–±–ª–∏—Ü—ã** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç schedule
5. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å inventory_photos** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è UX
6. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å performance_inventory** ‚Äî —Å–≤—è–∑—å —Å–ø–µ–∫—Ç–∞–∫–ª–µ–π –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∞—è –Ω–µ–¥–µ–ª—è)

7. ‚úÖ **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å Tasks** ‚Äî —á–µ–∫–ª–∏—Å—Ç—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
8. ‚úÖ **–î–æ–¥–µ–ª–∞—Ç—å Documents** ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
9. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Å–ø–æ—Ä—Ç —Å–ø–µ–∫—Ç–∞–∫–ª—è** ‚Äî –∫–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (–ø–æ—Å–ª–µ MVP)

10. ‚úÖ **–ú–æ–¥—É–ª—å Notifications** ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ UX
11. ‚úÖ **React Query** ‚Äî performance –∏ UX
12. ‚úÖ **Zod validation** ‚Äî type safety
13. ‚úÖ **CI/CD** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Theatre Management System –∏–º–µ–µ—Ç **—Å–æ–ª–∏–¥–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç**, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **–Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ MVP**.

**–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:**

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è** ‚Äî Router ‚Üí Service ‚Üí Repository –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç** ‚Äî 2 –±–∞–≥–∞ –≤ BaseRepository –∏ repositories
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 50%** ‚Äî –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å 15 —Ç–∞–±–ª–∏—Ü –¥–ª—è MVP
4. **–ú–æ–¥—É–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤—ã** ‚Äî Auth 100%, Inventory 70%, –æ—Å—Ç–∞–ª—å–Ω—ã–µ 30-60%

**–ü—É—Ç—å –∫ MVP:**
- **Phase 1 (12h):** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏ ‚Üí —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **Phase 2-3 (49h):** –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏ endpoints ‚Üí —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π MVP
- **Phase 4-5 (30h):** –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí production-ready

**–ò—Ç–æ–≥–æ –¥–æ production-ready MVP:** **91 —á–∞—Å** (~11 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å Phase 1** ‚Äî –ø–æ—Å–ª–µ 12 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—á–µ–π –∏ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–∫–∞–∑—á–∏–∫—É –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.

---

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- [Backend Analysis](./analysis-backend.md) ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ backend
- [Frontend Analysis](./analysis-frontend.md) ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ frontend
- [Refactor Plan](./refactor-plan.md) ‚Äî –ø–ª–∞–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2026-01-16*
*–ê–≤—Ç–æ—Ä: Architecture Modernization Specialist (Claude Code)*
*–í–µ—Ä—Å–∏—è: 1.0*
